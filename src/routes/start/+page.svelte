<script>
  import SpiralStagesTeaser from '$lib/components/SpiralStagesTeaser.svelte';
  import QuickBenefits from '$lib/components/QuickBenefits.svelte';
  import languageStore from '$lib/stores/languageStore';

  const { language, toggleLanguage } = languageStore; 

  // Reactive language value
  $: currentLanguage = $language;
</script>

<section class="px-6 py-24 max-w-5xl mx-auto">
  <h1 class="text-4xl sm:text-5xl font-bold text-center mb-6">
    {currentLanguage === 'sv' ? "VÃ¤lkommen till Spiral Dynamics" : "Welcome to Spiral Dynamics"}
  </h1>

  <p class="text-center text-lg text-gray-600 dark:text-gray-300 mb-12 max-w-3xl mx-auto">
    {currentLanguage === 'sv'
      ? "En karta Ã¶ver hur vi mÃ¤nniskor utvecklas â€“ frÃ¥n Ã¶verlevnad till samarbete, frÃ¥n kontroll till frihet, frÃ¥n separation till samhÃ¶righet."
      : "A map of how we evolve â€“ from survival to cooperation, from control to freedom, from separation to interbeing."}
  </p>

  <!-- Spiral Explanation -->
  <div class="prose dark:prose-invert mx-auto mb-16">
    <h2>{currentLanguage === 'sv' ? "Vad Ã¤r Spiral Dynamics?" : "What is Spiral Dynamics?"}</h2>
    <p>
      {currentLanguage === 'sv'
        ? "Spiral Dynamics Ã¤r ett utvecklingsperspektiv som visar hur vÃ¥ra vÃ¤rderingar och vÃ¤rldsbilder fÃ¶rÃ¤ndras genom livet och historien. Varje nivÃ¥ i spiralen representerar ett nytt sÃ¤tt att fÃ¶rstÃ¥ vÃ¤rlden â€“ frÃ¥n Ã¶verlevnad till systemtÃ¤nkande, frÃ¥n lydnad till medkÃ¤nsla."
        : "Spiral Dynamics is a developmental framework that reveals how our values and worldviews change over time. Each stage of the spiral represents a new way of understanding the world â€“ from survival to systems thinking, from obedience to compassion."}
    </p>
    <p>
      {currentLanguage === 'sv'
        ? "Du har sÃ¤kert mÃ¶tt mÃ¤nniskor som ser verkligheten helt annorlunda Ã¤n du. Spiral Dynamics hjÃ¤lper oss fÃ¶rstÃ¥ varfÃ¶r â€“ och hur vi kan samarbeta Ã¤ndÃ¥."
        : "Youâ€™ve probably met people who see reality very differently from you. Spiral Dynamics helps us understand why â€“ and how we can collaborate across differences."}
    </p>
  </div>

  <!-- Spiral Stages Teaser -->
  <SpiralStagesTeaser lang={currentLanguage} />

  <!-- Benefits Block -->
  <QuickBenefits lang={currentLanguage} />

  <!-- Next Steps -->
  <div class="mt-24 text-center">
    <h2 class="text-2xl sm:text-3xl font-bold mb-6">
      {currentLanguage === 'sv' ? "Ditt nÃ¤sta steg" : "Your Next Step"}
    </h2>

    <p class="mb-8 text-gray-600 dark:text-gray-300 max-w-xl mx-auto">
      {currentLanguage === 'sv'
        ? "UpptÃ¤ck mer om varje nivÃ¥, ta vÃ¥r enkla sjÃ¤lvskattning, eller gÃ¥ med i en spiralmedveten dialog."
        : "Explore each stage in depth, take our simple self-assessment, or join a spiral-aware dialogue."}
    </p>

    <div class="flex flex-col sm:flex-row justify-center gap-4">
      <a href="/spiral" class="px-6 py-3 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700 transition">
        {currentLanguage === 'sv' ? "ğŸ” Utforska Spiralen" : "ğŸ” Explore the Spiral"}
      </a>

      <a href="/quiz" class="px-6 py-3 rounded-xl bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600 transition">
        {currentLanguage === 'sv' ? "ğŸ§© Ta testet" : "ğŸ§© Take the Quiz"}
      </a>

      <a href="/origins" class="px-6 py-3 rounded-xl bg-yellow-100 dark:bg-yellow-900 text-gray-800 dark:text-white hover:bg-yellow-200 dark:hover:bg-yellow-800 transition">
        {currentLanguage === 'sv' ? "ğŸ“– LÃ¤s Spiralens historia" : "ğŸ“– Read the Origins of the Spiral"}
      </a>

      <!-- Grayed out dialogue button -->
      <div class="px-6 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-400 cursor-not-allowed border border-dashed border-gray-300 dark:border-gray-600 text-center">
        <div>
          ğŸ—£ï¸ {currentLanguage === 'sv' ? "Delta i en dialog" : "Join a Dialogue"}
        </div>
        <div class="text-xs mt-1 italic">
          {currentLanguage === 'sv' ? "Kommer i framtiden" : "Coming in the future"}
        </div>
      </div>
    </div>
  </div>
</section>

